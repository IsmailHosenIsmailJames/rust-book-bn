## একটি ফাইল পড়া

এখন আমরা `file_path` আর্গুমেন্টে নির্দিষ্ট করা ফাইলটি পড়ার জন্য কার্যকারিতা যোগ করব। প্রথমে আমাদের পরীক্ষা করার জন্য একটি নমুনা ফাইল দরকার: আমরা একাধিক লাইনে কিছু পুনরাবৃত্তি করা শব্দ সহ অল্প পরিমাণে টেক্সটযুক্ত একটি ফাইল ব্যবহার করব। Listing 12-3-এ এমিলি ডিকিনসনের একটি কবিতা আছে যা ভাল কাজ করবে! আপনার প্রজেক্টের রুট লেভেলে _poem.txt_ নামের একটি ফাইল তৈরি করুন এবং "আমি কেউ নই! তুমি কে?" কবিতাটি লিখুন।

<Listing number="12-3" file-name="poem.txt" caption="এমিলি ডিকিনসনের একটি কবিতা একটি ভাল পরীক্ষার ক্ষেত্রে তৈরি করে।">

```text
{{#include ../listings/ch12-an-io-project/listing-12-03/poem.txt}}
```

</Listing>

টেক্সটটি লেখার পরে, _src/main.rs_ এডিট করুন এবং Listing 12-4-এ দেখানো হিসাবে ফাইলটি পড়ার জন্য কোড যোগ করুন।

<Listing number="12-4" file-name="src/main.rs" caption="দ্বিতীয় আর্গুমেন্ট দ্বারা নির্দিষ্ট করা ফাইলের কন্টেন্ট পড়া">

```rust,should_panic,noplayground
{{#rustdoc_include ../listings/ch12-an-io-project/listing-12-04/src/main.rs:here}}
```

</Listing>

প্রথমে আমরা `use` স্টেটমেন্ট দিয়ে স্ট্যান্ডার্ড লাইব্রেরির একটি প্রাসঙ্গিক অংশ নিয়ে আসি: ফাইলগুলো হ্যান্ডেল করার জন্য আমাদের `std::fs` প্রয়োজন।

`main`-এ, নতুন স্টেটমেন্ট `fs::read_to_string` `file_path` নেয়, সেই ফাইলটি খোলে এবং ফাইলের কন্টেন্ট ধারণ করে এমন `std::io::Result<String>` টাইপের একটি ভ্যালু রিটার্ন করে।

এর পরে, আমরা আবার একটি অস্থায়ী `println!` স্টেটমেন্ট যোগ করি যা ফাইলটি পড়ার পরে `contents`-এর ভ্যালু প্রিন্ট করে, যাতে আমরা পরীক্ষা করতে পারি যে প্রোগ্রামটি এখন পর্যন্ত কাজ করছে কিনা।

আসুন প্রথম কমান্ড লাইন আর্গুমেন্ট হিসাবে যেকোনো স্ট্রিং (কারণ আমরা এখনও অনুসন্ধানের অংশটি প্রয়োগ করিনি) এবং দ্বিতীয় আর্গুমেন্ট হিসাবে _poem.txt_ ফাইলটি দিয়ে এই কোডটি চালাই:

```console
{{#rustdoc_include ../listings/ch12-an-io-project/listing-12-04/output.txt}}
```

চমৎকার! কোডটি ফাইলের কন্টেন্ট পড়েছে এবং তারপর প্রিন্ট করেছে। তবে কোডে কিছু ত্রুটি আছে। এই মুহূর্তে, `main` ফাংশনের একাধিক দায়িত্ব রয়েছে: সাধারণত, ফাংশনগুলো আরও স্পষ্ট এবং বজায় রাখা সহজ যদি প্রতিটি ফাংশন শুধুমাত্র একটি ধারণার জন্য দায়ী থাকে। আরেকটি সমস্যা হল আমরা যতটা ভালোভাবে সম্ভব এরর হ্যান্ডেল করছি না। প্রোগ্রামটি এখনও ছোট, তাই এই ত্রুটিগুলো কোনো বড় সমস্যা নয়, তবে প্রোগ্রামটি বড় হওয়ার সাথে সাথে সেগুলোকে পরিষ্কারভাবে ঠিক করা কঠিন হবে। যখন একটি প্রোগ্রাম তৈরি করা হয় তখন প্রথম দিকে রিফ্যাক্টরিং শুরু করা একটি ভাল অভ্যাস কারণ ছোট পরিমাণে কোড রিফ্যাক্টর করা অনেক সহজ। আমরা পরবর্তীতে সেটা করব।
