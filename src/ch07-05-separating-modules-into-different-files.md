## মডিউলগুলিকে বিভিন্ন ফাইলে আলাদা করা

এখন পর্যন্ত, এই অধ্যায়ের সমস্ত উদাহরণ একটি ফাইলে একাধিক মডিউল সংজ্ঞায়িত করেছে। যখন মডিউলগুলি বড় হয়, তখন কোডটিকে সহজে নেভিগেট করার জন্য আপনি তাদের সংজ্ঞাগুলিকে একটি পৃথক ফাইলে সরাতে চাইতে পারেন।

উদাহরণস্বরূপ, আসুন Listing 7-17 এর কোড থেকে শুরু করি যেখানে একাধিক রেস্তোরাঁ মডিউল ছিল। আমরা crate root ফাইলে সংজ্ঞায়িত সমস্ত মডিউলের পরিবর্তে মডিউলগুলিকে ফাইলে বের করব। এই ক্ষেত্রে, crate root ফাইলটি হল _src/lib.rs_, কিন্তু এই পদ্ধতিটি বাইনারি crates এর সাথেও কাজ করে যার crate root ফাইলটি হল _src/main.rs_।

প্রথমে আমরা `front_of_house` মডিউলটিকে তার নিজের ফাইলে বের করব। `front_of_house` মডিউলের কার্লি ব্র্যাকেটের ভিতরের কোডটি সরিয়ে দিন, শুধুমাত্র `mod front_of_house;` ঘোষণাটি রেখে, যাতে _src/lib.rs_ এ Listing 7-21 এ দেখানো কোড থাকে। মনে রাখবেন যে Listing 7-22 এ _src/front_of_house.rs_ ফাইল তৈরি না করা পর্যন্ত এটি কম্পাইল হবে না।

<Listing number="7-21" file-name="src/lib.rs" caption="`front_of_house` মডিউল ঘোষণা করা যার বডিটি *src/front_of_house.rs*-এ থাকবে">

```rust,ignore,does_not_compile
{{#rustdoc_include ../listings/ch07-managing-growing-projects/listing-07-21-and-22/src/lib.rs}}
```

</Listing>

এর পরে, Listing 7-22 এ দেখানো হিসাবে কার্লি ব্র্যাকেটের ভিতরের কোডটি _src/front_of_house.rs_ নামের একটি নতুন ফাইলে রাখুন। কম্পাইলার এই ফাইলে দেখতে জানে কারণ এটি crate root এ `front_of_house` নামের মডিউল ঘোষণার সম্মুখীন হয়েছে।

<Listing number="7-22" file-name="src/front_of_house.rs" caption="*src/front_of_house.rs* এ `front_of_house` মডিউলের ভিতরের সংজ্ঞা">

```rust,ignore
{{#rustdoc_include ../listings/ch07-managing-growing-projects/listing-07-21-and-22/src/front_of_house.rs}}
```

</Listing>

মনে রাখবেন যে আপনার মডিউল ট্রিতে _একবার_ `mod` ঘোষণা ব্যবহার করে একটি ফাইল লোড করতে হবে। একবার কম্পাইলার জেনে যায় যে ফাইলটি প্রকল্পের অংশ (এবং আপনি `mod` স্টেটমেন্টটি কোথায় রেখেছেন তার কারণে মডিউল ট্রিতে কোডটি কোথায় থাকে তা জেনে যায়), আপনার প্রকল্পের অন্যান্য ফাইলগুলিকে লোড করা ফাইলের কোডটিকে একটি path ব্যবহার করে উল্লেখ করতে হবে যেখানে এটি ঘোষণা করা হয়েছিল, যেমন [“Paths for Referring to an Item in the Module Tree”][paths]<!-- ignore --> বিভাগে আলোচনা করা হয়েছে। অন্য কথায়, `mod` কোনো "include" অপারেশন _নয়_ যা আপনি অন্যান্য প্রোগ্রামিং ভাষায় দেখেছেন।

এরপরে, আমরা `hosting` মডিউলটিকে তার নিজের ফাইলে বের করব। প্রক্রিয়াটি একটু আলাদা কারণ `hosting` হল `front_of_house` এর একটি চাইল্ড মডিউল, মূল মডিউলের নয়। আমরা `hosting` এর জন্য ফাইলটিকে একটি নতুন ডিরেক্টরিতে রাখব যা মডিউল ট্রি-তে এর পূর্বপুরুষদের জন্য নামকরণ করা হবে, এই ক্ষেত্রে _src/front_of_house_।

`hosting` move করা শুরু করতে, আমরা _src/front_of_house.rs_ পরিবর্তন করে শুধুমাত্র `hosting` মডিউলের ঘোষণাটি রাখব:

<Listing file-name="src/front_of_house.rs">

```rust,ignore
{{#rustdoc_include ../listings/ch07-managing-growing-projects/no-listing-02-extracting-hosting/src/front_of_house.rs}}
```

</Listing>

তারপর আমরা একটি _src/front_of_house_ ডিরেক্টরি এবং একটি _hosting.rs_ ফাইল তৈরি করি যেখানে `hosting` মডিউলে তৈরি সংজ্ঞাগুলি থাকবে:

<Listing file-name="src/front_of_house/hosting.rs">

```rust,ignore
{{#rustdoc_include ../listings/ch07-managing-growing-projects/no-listing-02-extracting-hosting/src/front_of_house/hosting.rs}}
```

</Listing>

যদি আমরা পরিবর্তে _hosting.rs_ কে _src_ ডিরেক্টরিতে রাখি, তবে কম্পাইলার _hosting.rs_ কোডটিকে crate root এ ঘোষিত একটি `hosting` মডিউলে থাকার আশা করত এবং `front_of_house` মডিউলের child হিসাবে ঘোষিত হবে না। কম্পাইলারের নিয়মগুলি যা কোন মডিউলের কোডের জন্য কোন ফাইলগুলি পরীক্ষা করতে হয় তা নির্দেশ করে তার মানে হল ডিরেক্টরি এবং ফাইলগুলি মডিউল ট্রির সাথে আরও ঘনিষ্ঠভাবে মিলে যায়।

> ### বিকল্প ফাইলের Paths
>
> এখন পর্যন্ত আমরা Rust কম্পাইলার ব্যবহার করে এমন সবচেয়ে idiomatic ফাইল path গুলি কভার করেছি, কিন্তু Rust পুরোনো ধরনের ফাইল path ও সমর্থন করে। crate root এ ঘোষিত `front_of_house` নামের একটি মডিউলের জন্য, কম্পাইলার মডিউলের কোডটি নিম্নলিখিতগুলিতে খুঁজবে:
>
> - _src/front_of_house.rs_ (যা আমরা কভার করেছি)
> - _src/front_of_house/mod.rs_ (পুরানো শৈলী, এখনও সমর্থিত path)
>
> `hosting` নামের একটি মডিউলের জন্য যা `front_of_house` এর একটি সাবমডিউল, কম্পাইলার মডিউলের কোডটি নিম্নলিখিতগুলিতে খুঁজবে:
>
> - _src/front_of_house/hosting.rs_ (যা আমরা কভার করেছি)
> - _src/front_of_house/hosting/mod.rs_ (পুরানো শৈলী, এখনও সমর্থিত path)
>
> আপনি যদি একই মডিউলের জন্য উভয় শৈলী ব্যবহার করেন, তবে আপনি একটি কম্পাইলার ত্রুটি পাবেন। একই প্রজেক্টে বিভিন্ন মডিউলের জন্য উভয় শৈলীর মিশ্রণ ব্যবহার করার অনুমতি আছে, তবে এটি আপনার প্রজেক্ট নেভিগেট করা লোকেদের জন্য বিভ্রান্তিকর হতে পারে।
>
> _mod.rs_ নামের ফাইল ব্যবহার করে এমন শৈলীর প্রধান অসুবিধা হল যে আপনার প্রজেক্টে _mod.rs_ নামের অনেক ফাইল থাকতে পারে, যা আপনি যখন একই সময়ে আপনার এডিটরে খোলা রাখেন তখন বিভ্রান্তিকর হতে পারে।

আমরা প্রতিটি মডিউলের কোড একটি পৃথক ফাইলে সরিয়েছি এবং মডিউল ট্রি একই রয়ে গেছে। যদিও সংজ্ঞাগুলি বিভিন্ন ফাইলে থাকে তবুও `eat_at_restaurant` এর ফাংশন কলগুলি কোনও পরিবর্তন ছাড়াই কাজ করবে। এই কৌশলটি আপনাকে মডিউলগুলি বড় হওয়ার সাথে সাথে নতুন ফাইলগুলিতে সরাতে দেয়।

মনে রাখবেন যে _src/lib.rs_ এ `pub use crate::front_of_house::hosting` স্টেটমেন্টটিও পরিবর্তিত হয়নি এবং `use` এর crate এর অংশ হিসাবে কোন ফাইলগুলি কম্পাইল করা হয় তার উপর কোনো প্রভাব নেই। `mod` কীওয়ার্ড মডিউল ঘোষণা করে এবং Rust সেই মডিউলে যাওয়া কোডের জন্য মডিউলের নামের সাথে একই নামের একটি ফাইলে দেখে।

## সারসংক্ষেপ

Rust আপনাকে একটি প্যাকেজকে একাধিক crates এবং একটি crate কে মডিউলে বিভক্ত করতে দেয় যাতে আপনি অন্য মডিউল থেকে একটি মডিউলে সংজ্ঞায়িত আইটেমগুলি উল্লেখ করতে পারেন। আপনি absolute বা relative paths নির্দিষ্ট করে এটি করতে পারেন। এই paths গুলি একটি `use` স্টেটমেন্ট দিয়ে scope এ আনা যেতে পারে যাতে আপনি সেই scope এ আইটেমটির একাধিক ব্যবহারের জন্য একটি ছোট path ব্যবহার করতে পারেন। মডিউল কোড ডিফল্টরূপে private, তবে আপনি `pub` কীওয়ার্ড যোগ করে সংজ্ঞা public করতে পারেন।

পরবর্তী অধ্যায়ে, আমরা standard library এর কিছু সংগ্রহ ডেটা স্ট্রাকচার দেখব যা আপনি আপনার সুন্দরভাবে সাজানো কোডে ব্যবহার করতে পারেন।

[paths]: ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html
